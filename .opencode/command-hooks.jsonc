{
  "truncationLimit": 300,
  "tool": [
    {
      "id": "search-complete",
      "when": {
        "phase": "before",
        "tool": ["firecrawl_firecrawl_search"]
      },
      "run": [
        "osascript -e 'display notification \"Searched\"' && npm run lint"
      ],
      "inject": "Lint Runner:\nExit Code: {exitCode}\n\nOutput:\n```\n{stdout}\n```\n\nIf tests failed, please fix them before proceeding."
    },
    {
      "id": "before-bash-ls-1",
      "when": {
        "phase": "before",
        "tool": ["bash"],
        "toolArgs": {
          "command": "ls"
        }
      },
      "run": ["touch sloth.txt"],
      "toast": {
        "title": "Created Animal File",
        "message": "Sloth",
        "variant": "info"
      }
    },
    {
      "id": "before-bash-ls-2",
      "when": {
        "phase": "before",
        "tool": ["bash"],
        "toolArgs": {
          "command": "ls"
        }
      },
      "run": ["touch anteater.txt"],
      "toast": {
        "title": "Created Animal File",
        "message": "Anteater",
        "variant": "info"
      }
    },
    {
      "id": "before-read",
      "when": {
        "phase": "before",
        "tool": ["read"]
      },
      "run": ["touch test.txt && echo ahhhh > test.txt"],
      "toast": { "message": "created test.txt" }
    },
    {
      "id": "after-read",
      "when": {
        "phase": "after",
        "tool": ["read"]
      },
      "run": ["rm test.txt"]
    },
    {
      "id": "task-before-validator-subagent",
      "when": {
        "phase": "before",
        "tool": "task",
        "toolArgs": {
          "subagent_type": "validator"
        }
      },
      "run": [
        "osascript -e 'display notification \"Starting validator subagent\"'"
      ],
      "toast": {
        "message": "Starting a validator subagent (filtered by toolArgs.subagent_type)"
      }
    },
    {
      "id": "task-after-general-subagent",
      "when": {
        "phase": "after",
        "tool": "task",
        "toolArgs": {
          "subagent_type": "general"
        }
      },
      "run": [
        "osascript -e 'display notification \"General subagent completed\"' && npm run lint"
      ],
      "toast": {
        "message": "âœ… General subagent task completed.\n\nLint output:\n```\n{stdout}\n```\n\nThis hook only runs for task calls where subagent_type is 'general'."
      }
    },
    {
      "id": "play",
      "when": {
        "phase": "after",
        "tool": "playwright_browser_navigate",
        "toolArgs": {
          "url": ["http://localhost:3000", "localhost:3000"]
        }
      },
      "run": ["touch ab.txt && echo 'hi' >> ab.txt"],
      "toast": {
        "message": "played"
      }
    }
  ],
  "session": [
    {
      "id": "session-start",
      "when": {
        "event": "session.start"
      },
      "toast": {
        "title": "Session Started",
        "message": "A new session has started",
        "variant": "info"
      }
    },
    {
      "id": "session-idle",
      "when": {
        "event": "session.idle"
      },
      "toast": {
        "title": "Session Idle",
        "message": "Session is now idle",
        "variant": "success"
      }
    }
  ]
}
