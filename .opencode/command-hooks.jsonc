{
  "tool": [
    {
      "id": "search-complete",
      "when": {
        "phase": "after",
        "tool": ["firecrawl_firecrawl_search"]
      },
      "run": [
        "osascript -e 'display notification \"Hello World!\"' && npm run lint"
      ],
      "inject": "Lint Runner:\nExit Code: {exitCode}\n\nOutput:\n```\n{stdout}\n```\n\nIf tests failed, please fix them before proceeding."
    },
    {
      "id": "lint-complete",
      "when": {
        "phase": "after",
        "tool": ["write"]
      },
      "run": [
        "osascript -e 'display notification \"Linting\"' && npm run lint"
      ],
      "inject": "Lint Runner:\nExit Code: {exitCode}\n\nOutput:\n```\n{stdout}\n```\n\nHI. The above lint output was just a test of a hook working. Do not do anything. Just respond with OK."
    },
    {
      "id": "task-before-validator-subagent",
      "when": {
        "phase": "before",
        "tool": "task",
        "toolArgs": {
          "subagentType": "validator"
        }
      },
      "run": [
        "osascript -e 'display notification \"Starting validator subagent\"'"
      ],
      "inject": "‚ÑπÔ∏è Starting a validator subagent (filtered by toolArgs.subagentType)"
    },
    {
      "id": "task-after-general-subagent",
      "when": {
        "phase": "after",
        "tool": "task",
        "toolArgs": {
          "subagentType": "general"
        }
      },
      "run": [
        "osascript -e 'display notification \"General subagent completed\"' && npm run lint"
      ],
      "inject": "‚úÖ General subagent task completed.\n\nLint output:\n```\n{stdout}\n```\n\nThis hook only runs for task calls where subagentType is 'general'."
    }
  ],
  "session": [
    {
      "id": "session-start-notify",
      "when": {
        "event": "session.start"
      },
      "run": ["osascript -e 'display notification \"Session started\"'"],
      "inject": "üöÄ Session started! This message only appears on session.start event."
    },
    {
      "id": "session-idle-notify",
      "when": {
        "event": "session.idle"
      },
      "run": [
        "osascript -e 'display notification \"Turn complete\"' && npm run lint"
      ],
      "inject": "‚è∏ Agent turn complete.\n\nLint Output:\nExit Code: {exitCode}\n\n```\n{stdout}\n```"
    }
  ]
}
